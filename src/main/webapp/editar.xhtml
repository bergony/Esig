<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<h:head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="Gerenciador de Tarefas"/>
    <meta name="author" content="Bergony Bandeira"/>

    <title>Esig Group</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous"/>
</h:head>

<h:body>

    <main class="container">

        <br/>

        <div class="col">

            <div class="col p-4 text-center">
                <br/>
                <h4>Editar Tarefa</h4>
                <hr/>
            </div>
            <div class="col p-1">

                <h:form id="TarefaForm">

                    <div class="mb-3">
                        <label for="monthField" class="form-label">Titulo:</label>
                        <h:inputText id="monthField" styleClass="form-control" autocomplete="off" maxlength="10"
                                     value="#{tarefaForm.tarefa.titulo}"/>
                    </div>

                    <div class="mb-3">
                        <label for="descricaoField" class="form-label">Descrição:</label>
                        <h:inputTextarea id="descricaoField" styleClass="form-control" cols="30" rows="10"
                                         value="#{tarefaForm.tarefa.descricao}"/>
                    </div>

                    <div class="row">
                        <div class="col-sm">
                            <label for="monthField" class="form-label">Responsavel:</label>
                            <h:selectOneMenu value="#{tarefaForm.tarefa.responsavel}" class="form-select"
                                             converter="#{usuarioConversor}">
                                <f:selectItem itemValue="#{tarefaForm.tarefa.responsavel}" itemLabel="-- Selecione Responsavel --"/>
                                <f:selectItems value="#{usuarioForm.usuarios}" var="usuario"
                                               itemValue="#{usuario}" itemLabel="#{usuario.name}"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="col-sm">
                            <label for="monthField" class="form-label">Prioridade:</label>
                            <h:selectOneMenu value="#{tarefaForm.tarefa.prioridadeStatus}" class="form-select">
                                <f:selectItem itemValue="#{tarefaForm.tarefa.prioridadeStatus}" itemLabel="-- Selecione Prioridade --"/>
                                <f:selectItems value="#{tarefaAction.prioridadesStatusItems}"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="col-sm">
                            <label for="monthField" class="form-label">Situação:</label>
                            <h:selectOneMenu value="#{tarefaForm.tarefa.tarefaStatus}" class="form-select">
                                <f:selectItem itemValue="#{tarefaForm.tarefa.tarefaStatus}" itemLabel="-- Selecione Situação --"/>
                                <f:selectItems value="#{tarefaAction.tarefaStatusItems}"/>
                            </h:selectOneMenu>
                        </div>
                    </div>

                    <br/>

                    <div class="row">
                        <div class="col-sm">
                            <label for="DeadLine" class="form-label">DeadLine:</label>
                            <h:inputText id="DeadLine" value="#{tarefaForm.tarefa.deadline}"
                                         label="Date" styleClass="form-control">
                                <f:convertDateTime pattern="dd-mm-yyyy"/>
                            </h:inputText>
                        </div>
                    </div>
                    <br/>
                    <h:commandButton type="submit" value="Editar Tarefa"  styleClass="btn btn-primary"
                                     action="#{tarefaAction.patchTarefa}">
                    </h:commandButton>
                </h:form>

            </div>
        </div>
    </main>
</h:body>
</html>